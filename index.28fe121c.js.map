{"mappings":"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","sources":["src/js/index.js"],"sourcesContent":["const refs = {\n  body: document.querySelector('body'),\n  floors: document.querySelector('.floors'),\n  lift: document.querySelector('[lift]'),\n  btnCall: document.querySelectorAll('.button__call'),\n  liftBtn: document.querySelectorAll('.lift-button'),\n  tabNum: document.querySelectorAll('.tab__quad-num'),\n  doors: document.querySelectorAll('.outdoor'),\n};\n\nconst { body, floors, lift, btnCall, liftBtn, tabNum, doors } = refs;\n\nconst ACTIVE_COLOR = '#ff3535';\nconst INACTIVE_COLOR = '#efefef';\nconst DOORS_TIMEOUT = 4000;\nconst LIFT_SPEED = 7;\nlet LIFT_DELAY = 0;\nlet doorNumb = 1;\n\nbody.addEventListener('click', onLiftActiveate);\n\nfunction onLiftActiveate(e) {\n  if (e.target.nodeName === 'BUTTON') {\n    const liftCurrentPosition = parseInt(lift.style.top);\n    let whereLiftBecome = parseInt(lift.style.top);\n    switch (e.target.id) {\n      case 'f1':\n      case 'f-1-btn':\n        whereLiftBecome = 844;\n        break;\n      case 'f2':\n      case 'f-2-btn':\n        whereLiftBecome = 644;\n        break;\n      case 'f3':\n      case 'f-3-btn':\n        whereLiftBecome = 444;\n        break;\n      case 'f4':\n      case 'f-4-btn':\n        whereLiftBecome = 244;\n        break;\n      case 'f5':\n      case 'f-5-btn':\n        whereLiftBecome = 44;\n        break;\n    }\n    if (e.target.className === 'lift-button') {\n      closeDoorsMomentaly();\n      LIFT_DELAY = 2000;\n    }\n    setTimeout(() => {\n      whereSendLift(e, liftCurrentPosition, whereLiftBecome);\n    }, LIFT_DELAY);\n    activateLiftBtn(e);\n    if (e.target.className === 'button__call') {\n      e.target.style.backgroundColor = '#88ff3e';\n    }\n  }\n}\n\nfunction whereSendLift(e, liftCurrentPosition, whereLiftBecome) {\n  if (liftCurrentPosition > whereLiftBecome) {\n    const plus = '1';\n    liftToGo(e, liftCurrentPosition, whereLiftBecome, plus);\n    floorCounter(liftCurrentPosition, whereLiftBecome, plus);\n  } else if (liftCurrentPosition < whereLiftBecome) {\n    const minus = '-1';\n    liftToGo(e, liftCurrentPosition, whereLiftBecome, minus);\n    floorCounter(liftCurrentPosition, whereLiftBecome, minus);\n  } else if (liftCurrentPosition === whereLiftBecome) {\n    activateLiftBtn(e);\n    setTimeout(() => {\n      inActiveLiftBtn(e);\n    }, 500);\n    onToggleDoor(doorNumb);\n  }\n}\n\nfunction floorCounter(liftCurrentPosition, whereLiftBecome, op) {\n  const counterId = setInterval(() => {\n    let num = liftCurrentPosition - `${op}`;\n    liftCurrentPosition = num;\n    if (844 > liftCurrentPosition && 744 < liftCurrentPosition) {\n      doorNumb = 1;\n    } else if (744 > liftCurrentPosition && 544 < liftCurrentPosition) {\n      doorNumb = 2;\n    } else if (544 > liftCurrentPosition && 344 < liftCurrentPosition) {\n      doorNumb = 3;\n    } else if (344 > liftCurrentPosition && 144 < liftCurrentPosition) {\n      doorNumb = 4;\n    } else if (144 > liftCurrentPosition && 44 < liftCurrentPosition) {\n      doorNumb = 5;\n    }\n    if (liftCurrentPosition === whereLiftBecome) {\n      clearInterval(counterId);\n    }\n    setNumberOfFloor(doorNumb);\n  }, LIFT_SPEED);\n}\n\nfunction liftToGo(e, liftCurrentPosition, whereLiftBecome, op) {\n  const intervalId = setInterval(() => {\n    let val = liftCurrentPosition - `${op}`;\n    liftCurrentPosition = val;\n    lift.style.top = `${liftCurrentPosition}px`;\n    if (liftCurrentPosition === whereLiftBecome) {\n      onOpenDoor(doorNumb);\n      clearInterval(intervalId);\n      if (e.target.className === 'button__call') {\n        onLiftWaiting();\n      }\n      inActiveLiftBtn(e);\n      setTimeout(() => {\n        LIFT_DELAY = 0;\n        closeDoorsMomentaly();\n      }, DOORS_TIMEOUT);\n    }\n  }, LIFT_SPEED);\n}\n\nfunction onToggleDoor(doorNumb) {\n  closeDoorsTimeout();\n  for (let i = 0; i < tabNum.length; i += 1) {\n    if (i === 0) {\n      doors.forEach(door => {\n        const numOfFloor = doorNumb;\n        if (door.id === `d${numOfFloor}`) {\n          door.classList.toggle('outdoor-open');\n        }\n      });\n      break;\n    }\n  }\n}\n\nfunction onOpenDoor(doorNumb) {\n  closeDoorsTimeout();\n  for (let i = 0; i < tabNum.length; i += 1) {\n    if (i === 0) {\n      doors.forEach(door => {\n        const numOfFloor = doorNumb;\n        if (door.id === `d${numOfFloor}`) {\n          door.classList.add('outdoor-open');\n        }\n      });\n      break;\n    }\n  }\n}\n\nfunction closeDoorsTimeout() {\n  setTimeout(() => {\n    closeDoorsMomentaly();\n  }, DOORS_TIMEOUT);\n}\n\nfunction closeDoorsMomentaly() {\n  doors.forEach(door => {\n    door.classList.remove('outdoor-open');\n  });\n}\n\nfunction activateLiftBtn(e) {\n  e.target.style.backgroundColor = '#3f86ff';\n  e.target.style.color = '#ffffff';\n  lift.removeEventListener('click', onLiftActiveate);\n  activeCallBtns();\n}\n\nfunction inActiveLiftBtn(e) {\n  e.target.style.backgroundColor = INACTIVE_COLOR;\n  e.target.style.color = '#000000';\n  lift.addEventListener('click', onLiftActiveate);\n  inActiveCallBtns();\n}\n\nfunction activeCallBtns() {\n  btnCall.forEach(btn => {\n    btn.disabled = true;\n    btn.style.backgroundColor = ACTIVE_COLOR;\n  });\n}\n\nfunction inActiveCallBtns() {\n  btnCall.forEach(btn => {\n    btn.disabled = false;\n    btn.style.backgroundColor = INACTIVE_COLOR;\n  });\n}\n\nfunction setNumberOfFloor(doorNumb) {\n  tabNum.forEach(floorNum => {\n    floorNum.textContent = doorNumb;\n  });\n}\n\nfunction onLiftWaiting() {\n  const currentTime = Date.now();\n  const liftInterval = setInterval(() => {\n    const delayTime = Date.now() - 6000;\n    LIFT_DELAY = currentTime - delayTime;\n    LIFT_DELAY = parseInt(LIFT_DELAY / 100) * 100;\n    if (LIFT_DELAY === 0) {\n      clearInterval(liftInterval);\n    }\n  }, 100);\n}\n"],"names":["$44ae6d9db4eaca0f$var$refs","body","document","querySelector","floors","lift","btnCall","querySelectorAll","liftBtn","tabNum","doors","$44ae6d9db4eaca0f$var$lift","$44ae6d9db4eaca0f$var$btnCall","$44ae6d9db4eaca0f$var$tabNum","$44ae6d9db4eaca0f$var$doors","$44ae6d9db4eaca0f$var$ACTIVE_COLOR","$44ae6d9db4eaca0f$var$INACTIVE_COLOR","$44ae6d9db4eaca0f$var$LIFT_DELAY","$44ae6d9db4eaca0f$var$doorNumb","$44ae6d9db4eaca0f$var$onLiftActiveate","e","target","nodeName","liftCurrentPosition","parseInt","style","top","whereLiftBecome","id","className","$44ae6d9db4eaca0f$var$closeDoorsMomentaly","setTimeout","plus","$44ae6d9db4eaca0f$var$liftToGo","$44ae6d9db4eaca0f$var$floorCounter","minus","$44ae6d9db4eaca0f$var$activateLiftBtn","$44ae6d9db4eaca0f$var$inActiveLiftBtn","doorNumb1","$44ae6d9db4eaca0f$var$closeDoorsTimeout","i","length","forEach","door","numOfFloor","concat","classList","toggle","$44ae6d9db4eaca0f$var$onToggleDoor","$44ae6d9db4eaca0f$var$whereSendLift","backgroundColor","op","counterId","setInterval","doorNumb3","num","clearInterval","floorNum","textContent","intervalId","currentTime","liftInterval","val","doorNumb2","add","$44ae6d9db4eaca0f$var$onOpenDoor","Date","now","delayTime","remove","color","removeEventListener","btn","disabled","addEventListener"],"version":3,"file":"index.28fe121c.js.map"}