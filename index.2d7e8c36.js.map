{"mappings":"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","sources":["src/js/index.js"],"sourcesContent":["const refs = {\n  body: document.querySelector('body'),\n  floors: document.querySelector('.floors'),\n  lift: document.querySelector('[lift]'),\n  btnCall: document.querySelectorAll('.button__call'),\n  liftBtn: document.querySelectorAll('.lift-button'),\n  tabNum: document.querySelectorAll('.tab__quad-num'),\n  doors: document.querySelectorAll('.outdoor'),\n};\n\nconst { body, floors, lift, btnCall, liftBtn, tabNum, doors } = refs;\n\nconst ACTIVE_COLOR = '#ff3535';\nconst INACTIVE_COLOR = '#efefef';\nconst DOORS_TIMEOUT = 4000;\nconst LIFT_SPEED = 7;\nlet LIFT_DELAY = 0;\nlet doorNumb = 1;\n\nbody.addEventListener('click', onLiftActiveate);\n\nfunction onLiftActiveate(e) {\n  if (e.target.nodeName === 'BUTTON') {\n    const liftCurrentPosition = parseInt(lift.style.top);\n    let whereLiftBecome = parseInt(lift.style.top);\n    switch (e.target.id) {\n      case 'f1':\n      case 'f-1-btn':\n        whereLiftBecome = 844;\n        break;\n      case 'f2':\n      case 'f-2-btn':\n        whereLiftBecome = 644;\n        break;\n      case 'f3':\n      case 'f-3-btn':\n        whereLiftBecome = 444;\n        break;\n      case 'f4':\n      case 'f-4-btn':\n        whereLiftBecome = 244;\n        break;\n      case 'f5':\n      case 'f-5-btn':\n        whereLiftBecome = 44;\n        break;\n    }\n    if (e.target.className === 'lift-button') {\n      closeDoorsMomentaly();\n      LIFT_DELAY = 2000;\n    }\n    setTimeout(() => {\n      whereSendLift(e, liftCurrentPosition, whereLiftBecome);\n    }, LIFT_DELAY);\n    activateLiftBtn(e);\n    if (e.target.className === 'button__call') {\n      e.target.style.backgroundColor = '#88ff3e';\n    }\n  }\n}\n\nfunction whereSendLift(e, liftCurrentPosition, whereLiftBecome) {\n  if (liftCurrentPosition > whereLiftBecome) {\n    const plus = '1';\n    liftToGo(e, liftCurrentPosition, whereLiftBecome, plus);\n    floorCounter(liftCurrentPosition, whereLiftBecome, plus);\n  } else if (liftCurrentPosition < whereLiftBecome) {\n    const minus = '-1';\n    liftToGo(e, liftCurrentPosition, whereLiftBecome, minus);\n    floorCounter(liftCurrentPosition, whereLiftBecome, minus);\n  } else if (liftCurrentPosition === whereLiftBecome) {\n    activateLiftBtn(e);\n    setTimeout(() => {\n      inActiveLiftBtn(e);\n    }, 500);\n    onToggleDoor(doorNumb);\n  }\n}\n\nfunction floorCounter(liftCurrentPosition, whereLiftBecome, op) {\n  const counterId = setInterval(() => {\n    let num = liftCurrentPosition - `${op}`;\n    liftCurrentPosition = num;\n    if (844 > liftCurrentPosition && 744 < liftCurrentPosition) {\n      doorNumb = 1;\n    } else if (744 > liftCurrentPosition && 544 < liftCurrentPosition) {\n      doorNumb = 2;\n    } else if (544 > liftCurrentPosition && 344 < liftCurrentPosition) {\n      doorNumb = 3;\n    } else if (344 > liftCurrentPosition && 144 < liftCurrentPosition) {\n      doorNumb = 4;\n    } else if (144 > liftCurrentPosition && 44 < liftCurrentPosition) {\n      doorNumb = 5;\n    }\n    if (liftCurrentPosition === whereLiftBecome) {\n      clearInterval(counterId);\n    }\n    setNumberOfFloor(doorNumb);\n  }, LIFT_SPEED);\n}\n\nfunction liftToGo(e, liftCurrentPosition, whereLiftBecome, op) {\n  const intervalId = setInterval(() => {\n    let val = liftCurrentPosition - `${op}`;\n    liftCurrentPosition = val;\n    lift.style.top = `${liftCurrentPosition}px`;\n    if (liftCurrentPosition === whereLiftBecome) {\n      onOpenDoor(doorNumb);\n      clearInterval(intervalId);\n      if (e.target.className === 'button__call') {\n        onLiftWaiting();\n      }\n      inActiveLiftBtn(e);\n      setTimeout(() => {\n        LIFT_DELAY = 0;\n        closeDoorsMomentaly();\n      }, DOORS_TIMEOUT);\n    }\n  }, LIFT_SPEED);\n}\n\nfunction onToggleDoor(doorNumb) {\n  closeDoorsTimeout();\n  for (let i = 0; i < tabNum.length; i += 1) {\n    if (i === 0) {\n      doors.forEach(door => {\n        const numOfFloor = doorNumb;\n        if (door.id === `d${numOfFloor}`) {\n          door.classList.toggle('outdoor-open');\n        }\n      });\n      break;\n    }\n  }\n}\n\nfunction onOpenDoor(doorNumb) {\n  closeDoorsTimeout();\n  for (let i = 0; i < tabNum.length; i += 1) {\n    if (i === 0) {\n      doors.forEach(door => {\n        const numOfFloor = doorNumb;\n        if (door.id === `d${numOfFloor}`) {\n          door.classList.add('outdoor-open');\n        }\n      });\n      break;\n    }\n  }\n}\n\nfunction closeDoorsTimeout() {\n  setTimeout(() => {\n    closeDoorsMomentaly();\n  }, DOORS_TIMEOUT);\n}\n\nfunction closeDoorsMomentaly() {\n  doors.forEach(door => {\n    door.classList.remove('outdoor-open');\n  });\n}\n\nfunction activateLiftBtn(e) {\n  e.target.style.backgroundColor = '#3f86ff';\n  e.target.style.color = '#ffffff';\n  lift.removeEventListener('click', onLiftActiveate);\n  activeCallBtns();\n}\n\nfunction inActiveLiftBtn(e) {\n  e.target.style.backgroundColor = INACTIVE_COLOR;\n  e.target.style.color = '#000000';\n  lift.addEventListener('click', onLiftActiveate);\n  inActiveCallBtns();\n}\n\nfunction activeCallBtns() {\n  btnCall.forEach(btn => {\n    btn.disabled = true;\n    btn.style.backgroundColor = ACTIVE_COLOR;\n  });\n}\n\nfunction inActiveCallBtns() {\n  btnCall.forEach(btn => {\n    btn.disabled = false;\n    btn.style.backgroundColor = INACTIVE_COLOR;\n  });\n}\n\nfunction setNumberOfFloor(doorNumb) {\n  tabNum.forEach(floorNum => {\n    floorNum.textContent = doorNumb;\n  });\n}\n\nfunction onLiftWaiting() {\n  const currentTime = Date.now();\n  const liftInterval = setInterval(() => {\n    const delayTime = Date.now() - 6000;\n    LIFT_DELAY = currentTime - delayTime;\n    LIFT_DELAY = parseInt(LIFT_DELAY / 100) * 100;\n    if (LIFT_DELAY === 0) {\n      clearInterval(liftInterval);\n    }\n  }, 100);\n}\n"],"names":["$85a5f86b715fe7db$var$refs","body","document","querySelector","floors","lift","btnCall","querySelectorAll","liftBtn","tabNum","doors","$85a5f86b715fe7db$var$body","$85a5f86b715fe7db$var$floors","$85a5f86b715fe7db$var$lift","$85a5f86b715fe7db$var$btnCall","$85a5f86b715fe7db$var$liftBtn","$85a5f86b715fe7db$var$tabNum","$85a5f86b715fe7db$var$doors","$85a5f86b715fe7db$var$LIFT_DELAY","$85a5f86b715fe7db$var$doorNumb","$85a5f86b715fe7db$var$onLiftActiveate","e","target","nodeName","liftCurrentPosition","parseInt","style","top","whereLiftBecome","id","className","$85a5f86b715fe7db$var$closeDoorsMomentaly","setTimeout","plus","$85a5f86b715fe7db$var$liftToGo","$85a5f86b715fe7db$var$floorCounter","minus","$85a5f86b715fe7db$var$activateLiftBtn","$85a5f86b715fe7db$var$inActiveLiftBtn","doorNumb1","$85a5f86b715fe7db$var$closeDoorsTimeout","i","length","forEach","door","numOfFloor","classList","toggle","$85a5f86b715fe7db$var$onToggleDoor","$85a5f86b715fe7db$var$whereSendLift","backgroundColor","op","counterId","setInterval","doorNumb3","clearInterval","floorNum","textContent","intervalId","doorNumb2","add","$85a5f86b715fe7db$var$onOpenDoor","currentTime","Date","now","liftInterval","delayTime","$85a5f86b715fe7db$var$onLiftWaiting","remove","color","removeEventListener","btn","disabled","addEventListener"],"version":3,"file":"index.2d7e8c36.js.map"}